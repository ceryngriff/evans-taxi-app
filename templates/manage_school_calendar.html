<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Manage School Calendar</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
    <a href="{{ url_for('manager_dashboard') }}" class="back-link">← Return to Dashboard</a>
</head>
<body>
    <h2>📅 Manage School Terms & Inset Days</h2>

    <!-- Add Term Form -->
    <form method="POST">
        <h3>Add School Term</h3>
        <label for="term_name">Term Name:</label>
        <input type="text" name="term_name" required><br><br>

        <label for="term_start_date">Start Date:</label>
        <input type="date" name="term_start_date" required><br><br>

        <label for="term_end_date">End Date:</label>
        <input type="date" name="term_end_date" required><br><br>

        <button type="submit" name="add_term">➕ Add Term</button>
    </form>

    <hr>

    <!-- Add Inset Day Form -->
    <form method="POST">
        <h3>Add Inset Day</h3>
        <label for="school_name">School Name:</label>
        <input type="text" name="school_name" required><br><br>

        <label for="inset_date">Inset Date:</label>
        <input type="date" name="inset_date" required><br><br>

        <label for="reason">Reason:</label>
        <textarea name="reason" rows="3" placeholder="e.g., Teacher training"></textarea><br><br>

        <button type="submit" name="add_inset">➕ Add Inset Day</button>
    </form>

    <hr>

    <!-- Display School Terms -->
    <h3>📘 Current Terms</h3>
    {% if terms %}
        <ul>
            {% for term in terms %}
                <li><strong>{{ term.name }}</strong>: {{ term.start_date }} → {{ term.end_date }}</li>
            {% endfor %}
        </ul>
    {% else %}
        <p>No terms added yet.</p>
    {% endif %}

    <!-- Display Inset Days -->
    <h3>📕 Inset Days (Per School)</h3>
    {% if insets %}
        <ul>
            {% for day in insets %}
                <li>{{ day.date }} - <strong>{{ day.school_name }}</strong>{% if day.reason %}: {{ day.reason }}{% endif %}</li>
            {% endfor %}
        </ul>
    {% else %}
        <p>No inset days added yet.</p>
    {% endif %}
</body>
</html>
